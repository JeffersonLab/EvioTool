<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=us-ascii">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="remote_et_files/filelist.xml">
<link rel=Edit-Time-Data href="remote_et_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Remote ET</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Jefferson Lab</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Carl Timmer</o:LastAuthor>
  <o:Revision>31</o:Revision>
  <o:TotalTime>207</o:TotalTime>
  <o:Created>2011-07-18T12:58:00Z</o:Created>
  <o:LastSaved>2014-01-23T18:37:00Z</o:LastSaved>
  <o:Pages>6</o:Pages>
  <o:Words>4349</o:Words>
  <o:Characters>24791</o:Characters>
  <o:Company>Jefferson Science Associates, LLC</o:Company>
  <o:Lines>206</o:Lines>
  <o:Paragraphs>58</o:Paragraphs>
  <o:CharactersWithSpaces>29082</o:CharactersWithSpaces>
  <o:Version>14.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:RelyOnVML/>
  <o:TargetScreenSize>1152x882</o:TargetScreenSize>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="remote_et_files/themedata.thmx">
<link rel=colorSchemeMapping href="remote_et_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>135</w:Zoom>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<link rel=Stylesheet type="text/css" media=all href=etmanual.css>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-520081665 -1073717157 41 0 66047 0;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-520092929 1073806591 9 0 415 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 1 Char";
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	text-indent:-.5in;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:21.5pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	font-weight:bold;}
h3
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 3 Char";
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	text-indent:-.25in;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:17.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	font-weight:bold;}
h4
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 4 Char";
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	mso-pagination:widow-orphan;
	mso-outline-level:4;
	font-size:14.5pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	font-weight:bold;}
h5
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 5 Char";
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	mso-pagination:widow-orphan;
	mso-outline-level:5;
	font-size:13.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	font-weight:bold;
	font-style:italic;}
a:link, span.MsoHyperlink
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
code
	{mso-style-noshow:yes;
	mso-style-priority:99;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
pre
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.2in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 1";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#365F91;
	mso-themecolor:accent1;
	mso-themeshade:191;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 3";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#4F81BD;
	mso-themecolor:accent1;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 4";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#4F81BD;
	mso-themecolor:accent1;
	font-weight:bold;
	font-style:italic;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Heading 5";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#243F60;
	mso-themecolor:accent1;
	mso-themeshade:127;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:Consolas;
	mso-bidi-font-family:Consolas;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"Balloon Text";
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-ascii-font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:Tahoma;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-size:10.0pt;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 @list l0
	{mso-list-id:970016226;
	mso-list-template-ids:-340075226;}
@list l0:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";}
</style>
<![endif]-->
<meta name=author content="Carl Timmer">
<meta name=description content="Chapter for ET system manual">
<meta name=copyright content="Copyright 1999, SURA, TJNAF">
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white background=FlowBack.gif lang=EN-US link=blue vlink=purple
style='tab-interval:.5in'>
<!--[if gte mso 9]><xml>
 <v:background id="_x0000_s1025" o:bwmode="white">
  <v:fill src="FlowBack.gif" type="tile"/>
 </v:background></xml><![endif]-->

<div class=WordSection1>

<h1><a href="modifying_system.htm"><span style='mso-fareast-font-family:"Times New Roman";
mso-no-proof:yes;text-decoration:none;text-underline:none'><img border=0
width=31 height=31 id="_x0000_i1028" src=left.gif alt=Previous></span></a><a
href="useful_macros.htm" target="_self"><span style='mso-fareast-font-family:
"Times New Roman";mso-no-proof:yes;text-decoration:none;text-underline:none'><img
border=0 width=31 height=31 id="_x0000_i1027" src=right.gif alt=Next></span></a><span
style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h1>

<h1><span style='mso-fareast-font-family:"Times New Roman"'>Remote ET<o:p></o:p></span></h1>

<h3><a name=Remote><span style='mso-fareast-font-family:"Times New Roman"'>Remote
Node Operation Overview</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h3>

<p>It is possible to have an ET system on one machine and its consumers on
another (called remote consumers). Remote consumers can call all the routines
that local ones can. Of course, the speed of transferring events over the
network is quite a bit slower than the speed of accessing shared memory.</p>

<p>The way this is done is that each ET system has a server built-in. That is,
there are multiple threads in the ET system's process which facilitate
accessing that system from another computer. One or more of these threads
respond to the UDP packets from remote consumers trying to find an ET system of
a particular name somewhere on the network usually by broadcasting or
multicasting. There is one thread listening on each local subnet broadcast
address, one thread on each multicast address used, and one thread on each
local network interface address. The response is to send back the port number
of the socket that the TCP server thread is listening on and its host's name
and all of its IP addresses (among other things). This TCP server thread, when
connected with a consumer, is the one which handles all the receiving and
sending of events and other information with the consumer.</p>

<p>When an ET system is started up, it's configuration can be set by using the <em>et_system_config_...</em>
set of routines. A call to <em><a
href="user_routines.htm#et_system_config_setserverport">et_system_config_setserverport</a></em>
sets the port number of the ET system's tcp server thread in that particular
configuration. If the port is unavailable when actually starting the ET system
by a call to <em><a href="user_routines.htm#et_system_start">et_system_start</a></em>
using that same configuration, the process will exit with an error message.
Note that if the server port is not explicitly set in this way, then by default
<strong>ET_SERVER_PORT</strong> (defined as 11111 in <em>et.h</em>) is used as
the port number. Similarly, a call to <a
href="user_routines.htm#et_system_config_setport"><em>et_system_config_setport</em></a>
sets the port number of the threads listening for the UDP packets.</p>

<h3><a name=System><span style='mso-fareast-font-family:"Times New Roman"'>System
Discovery</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h3>

<p>In order to have things work seamlessly, the user needs to make some
decisions. First of all, the decision needs to be made whether consumers
connect to ET systems using a direct TCP connection by specifying host and
port, or possibly by using broadcasting and/or multicasting. When a consumer
does not know the host, broadcasting and/or multicasting is the only option.
The response to the UDP packet contains the port number and host name of the
TCP server thread to which a connection may be made.</p>

<h4><a name=Direct><span style='mso-fareast-font-family:"Times New Roman"'>Direct
Connection</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>There are times when using either broadcasting or multicasting is
inconvenient or impossible. For example, if an ET system and a consumer are on
different subnets, broadcasting from one to the other is stopped by any routers
unless such are reprogrammed to allow broadcasting to get through - a hassle in
any case. In situations such as these, a direct connection can be made.</p>

<p>Remote consumers need to know the TCP server's port number and the host name
that the ET system resides on. Then using <em><a
href="user_routines.htm#et_open_config_setserverport">et_open_config_setserverport</a></em>
the port can be set, using <em><a
href="user_routines.htm#et_open_config_sethost">et_open_config_sethost</a></em>
the host can be set, and using <em><a
href="user_routines.htm#et_open_config_setcast">et_open_config_setcast</a></em>
a direct connection can be specified with <strong>ET_DIRECT</strong>.</p>

<h4><a name=Broadcasting><span style='mso-fareast-font-family:"Times New Roman"'>Broadcasting</span></a><span
style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>Broadcasting is done to IP addresses which in dotted-decimal form (e.g.
128.7.6.35) can be represented as {netid, subnetid, hostid}. The only type of
broadcast address used in ET systems is subnet-directed and is of the form
{netid, subnetid,-1} where -1 simply means that that part of the address is
composed of all 1's in binary. For example, if 128.7.6 is the subnet with a
mask of 255.255.255.0, then 128.6.7.255 is the broadcast address for that
subnet. A broadcast will be received by all machines on that particular subnet.
You may find the broadcast address(es) of your subnet(s) by using the command
&quot;ifconfig -a&quot;.</p>

<p>An ET system automatically responds to broadcasts on all its local subnets
and no configuration is necessary or possible.</p>

<p>An ET consumer, by default, broadcasts on all its local subnets to find ET
systems. Otherwise, one can use the <em><a
href="user_routines.htm#et_open_config_setcast">et_open_config_setcast</a></em>
routine to set the configuration to a setting of <strong>ET_BROADCAST</strong>
or <strong>ET_BROADANDMULTICAST</strong> to do so. Call <em><a
href="user_routines.htm#et_open_config_addbroadcast">et_open_config_addbroadcast</a></em>
to add a specific broadcast address to the list of active broadcast addresses.
Use it with a value of <strong>ET_SUBNET_ALL</strong> to add all the local
broadcast addresses to the list (the default remember), and use it with the
value <strong>ET_SUBNET_DEFAULT</strong> to add the broadcast address
associated with the hostname returned as a result of&nbsp; executing
&quot;uname&quot;. Likewise, call <em><a
href="user_routines.htm#et_open_config_removebroadcast">et_open_config_removebroadcast</a></em>
to remove addresses from the active list with <strong>ET_SUBNET_ALL </strong><strong><span
style='font-weight:normal;mso-bidi-font-weight:bold'>removing all broadcast
addresses</span></strong><b style='mso-bidi-font-weight:normal'>.<o:p></o:p></b></p>

<h4><a name=Multicasting><span style='mso-fareast-font-family:"Times New Roman"'>Multicasting</span></a><span
style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>In multicasting a consumer sends out a packet to a special multicast IP address.
The listeners (ET systems) sign up to receive any packets send to that address
and only computers hosting such listeners will receive the packets - not all
machines on the subnet as is the case in broadcasting. Multicasting has the
ability to go beyond the local subnet and thus is more flexible than
broadcasting. The following table lists all available multicast addresses as
well as &quot;TTL&quot; values (reproduced from <u>Unix Network Programming</u>,
Volume 1 by Richard Stevens):</p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=1 cellpadding=0
 style='mso-cellspacing:.7pt;border:outset blue 2.25pt;mso-yfti-tbllook:1184;
 mso-padding-alt:3.75pt 3.75pt 3.75pt 3.75pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:25.5pt'>
  <td width=108 rowspan=2 style='width:81.0pt;border:inset blue 1.0pt;
  mso-border-alt:inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;
  height:25.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><strong><span
  style='mso-fareast-font-family:"Times New Roman"'>Scope</span></strong><span
  style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>
  </td>
  <td width=60 rowspan=2 style='width:45.0pt;border:inset blue 1.0pt;
  mso-border-alt:inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;
  height:25.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><strong><span
  style='mso-fareast-font-family:"Times New Roman"'>IPv6 Scope</span></strong><span
  style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>
  </td>
  <td width=314 colspan=2 style='width:235.5pt;border:inset blue 1.0pt;
  mso-border-alt:inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;
  height:25.5pt'>
  <p class=MsoNormal align=center style='text-align:center'><strong><span
  style='mso-fareast-font-family:"Times New Roman"'>IPv4</span></strong><span
  style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:21.0pt'>
  <td width=88 style='width:66.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><strong><span
  style='mso-fareast-font-family:"Times New Roman"'>TTL Scope</span></strong><span
  style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>
  </td>
  <td width=220 style='width:165.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><strong><span
  style='mso-fareast-font-family:"Times New Roman"'>Administrative Scope</span></strong><span
  style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:21.75pt'>
  <td width=108 style='width:81.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>node-local<o:p></o:p></span></p>
  </td>
  <td width=60 style='width:45.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>1<o:p></o:p></span></p>
  </td>
  <td width=88 style='width:66.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>0<o:p></o:p></span></p>
  </td>
  <td width=220 style='width:165.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:21.75pt'>
  <td width=108 style='width:81.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>link-local<o:p></o:p></span></p>
  </td>
  <td width=60 style='width:45.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>2<o:p></o:p></span></p>
  </td>
  <td width=88 style='width:66.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>1<o:p></o:p></span></p>
  </td>
  <td width=220 style='width:165.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.75pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>224.0.0.0
  to 224.0.0.225<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;height:21.0pt'>
  <td width=108 style='width:81.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>site-local<o:p></o:p></span></p>
  </td>
  <td width=60 style='width:45.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>5<o:p></o:p></span></p>
  </td>
  <td width=88 style='width:66.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>&lt;32<o:p></o:p></span></p>
  </td>
  <td width=220 style='width:165.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>239.255.0.0
  to 239.255.255.255<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;height:24.0pt'>
  <td width=108 style='width:81.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:24.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>organization-local<o:p></o:p></span></p>
  </td>
  <td width=60 style='width:45.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:24.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>8<o:p></o:p></span></p>
  </td>
  <td width=88 style='width:66.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:24.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>
  </td>
  <td width=220 style='width:165.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:24.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>239.192.0.0
  to 239.195.255.255<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes;height:21.0pt'>
  <td width=108 style='width:81.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>global<o:p></o:p></span></p>
  </td>
  <td width=60 style='width:45.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>14<o:p></o:p></span></p>
  </td>
  <td width=88 style='width:66.0pt;border:inset blue 1.0pt;mso-border-alt:inset blue .75pt;
  padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>&lt;255<o:p></o:p></span></p>
  </td>
  <td width=220 style='width:165.0pt;border:inset blue 1.0pt;mso-border-alt:
  inset blue .75pt;padding:3.75pt 3.75pt 3.75pt 3.75pt;height:21.0pt'>
  <p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>224.0.1.0
  to 238.255.255.255<o:p></o:p></span></p>
  </td>
 </tr>
</table>

</div>

<p>Although this author is NOT an expert ..., the use of TTL values and ranges
of addresses is meant to set the range or the scope of the multicasts. The use
of setting the TTL value for scoping is accepted and even recommended practice
with a default value of one meaning the local subnet only. However,
administrative scoping is preferred when possible. The range 239.0.0.0 to
239.25.255.255 is the administratively scoped IPv4 multicast space.
&quot;Addresses in this range are assigned locally by an organization but are
not guaranteed to be unique across organizational boundaries. An organization
must configure its boundary routers (multicast routers at the boundary of the
organization) not to forward multicast packets destined to any of these
addresses&quot;.</p>

<p>In short, pick an address between 239.0.0.0 and 239.25.255.255 for use at
one particular site. If this is confusing, talk to your system administrator
and ask for a safe multicast address for your use. The default TTL value used
in ET is 32 while the default multicast address is ET_MULTICAST_ADDR which is
defined in et.h as 239.200.0.0.</p>

<p>An ET system can respond to multicasts on up to <strong>ET_MAXADDRESSES</strong>
(defined in <em>et_private.h</em> as 10) multicast addresses. Add an address
with <em><a href="user_routines.htm#et_system_config_addmulticast">et_system_config_addmulticast</a></em>
and remove it with <em><a
href="user_routines.htm#et_system_config_removemulticast">et_system_config_removemulticast</a></em>.</p>

<p>An ET consumer can multicast by using the <em><a
href="user_routines.htm#et_open_config_setcast">et_open_config_setcast</a></em>
routine to set the configuration to a setting of <strong>ET_MULTICAST</strong>
or ET_BROADANDMULTICAST. Call <em><a
href="user_routines.htm#et_open_config_addmulticast">et_open_config_addmulticast</a></em>
to add a specific multicast address to the list of active addresses. Likewise,
call <em><a href="user_routines.htm#et_open_config_removemulticast">et_open_config_removemulticast</a></em>
to remove addresses from the list. Use <em><a
href="user_routines.htm#et_open_config_setTTL">et_open_config_setTTL</a></em>
to set the TTL value of the multicast.</p>

<p>Both broadcasting and multicasting may be done simultaneously by specifying
ET_BROADANDMULTICAST as an argument for <em>et_open_config_setcast</em>.</p>

<h4><a name=Port><span style='mso-fareast-font-family:"Times New Roman"'>Port
Selection for Broad/Multicasting</span></a><span style='mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></h4>

<p>In addition to choosing broadcasting and/or multicasting and choosing the
address, the user must also choose the port number for these communications.
The Internet Assigned Numbers Authority (IANA) states that the range of port
numbers from 0 to 1023 are controlled and assigned by the IANA. Thus, these are
unavailable. The ports 1024 to 49151 are NOT controlled by the IANA and are
available for use, but the IANA registers and lists the uses of these ports as
a convenience to the internet community. For example, ports 6000 to 6063 are
assigned for an X window server for both TCP and UDP. Generally, the higher
numbered ports are less likely to be used. Finally, ports 49152 to 65535 are
called dynamic or private or ephemeral ports. The IANA says nothing about
these.</p>

<p>Use the routine <em><a href="user_routines.htm#et_system_config_setport">et_system_config_setport</a></em>
to configure an ET system to listen for broad/multicasts on a particular port.
Use <em><a href="user_routines.htm#et_open_config_setport">et_open_config_setport</a></em>
to configure a consumer to send broadcasts and <em><a
href="user_routines.htm#et_open_config_setmultiport">et_open_config_setmultiport</a></em>
to send multicasts on a particular port. The port numbers used by the consumer
must be the same as those used by the ET system for things to work. By default,
if not set explicitly, they are set to <strong>ET_BROADCAST_PORT</strong> and <strong>ET_MULTICAST_PORT</strong>
respectively (both defined as 11111 in <em>et.h</em>).</p>

<h4><a name=Defaults><span style='mso-fareast-font-family:"Times New Roman"'>Defaults
&amp; Macros</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>When defining a configuration to use in opening an ET system, the defaults
are to use broadcasting only to port <b style='mso-bidi-font-weight:normal'>ET_BROADCAST_PORT</b>
(defined as 11111 in <em>et.h</em>) on all local subnet addresses. If the
automatic finding of subnets fails, a value of <strong>ET_BROADCAST_ADDR</strong>
is used (defined as &quot;129.57.29.255&quot; in <em>et.h</em> - the author's
personal subnet). The macro <strong>ET_MULTICAST_PORT</strong> is also
similarly defined to be 11111, while the macro <strong>ET_MULTICAST_ADDR</strong>
is defined to be &quot;239.200.0.0&quot;. The value of <strong>ET_MULTICAST_TTL</strong>
is 32. All of these macros are only defined for the users' convenience.</p>

<h4><a name=Examples><span style='mso-fareast-font-family:"Times New Roman"'>Examples</span></a><span
style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p><strong>When setting up an ET system, very little needs to be done to allow
it to be discovered by broadcasting consumers:</strong></p>

<p><code><span style='font-size:10.0pt'>et_sys_id id;</span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>et_sysconfig config;</code><br>
<br>
<code><span style='color:red'>/* initialize configuration */</span></code><br>
<code>et_system_config_init(&amp;config);</code><br>
<code><span style='color:red'>/* listen to broadcasts by default */</span></code><br>
<code><span style='color:red'>/* start ET system */</span></code><br>
<code>et_system_start(&amp;id, config);</code><br>
<code><span style='color:red'>/* release configuration's allocated memory */</span></code><br>
<code>et_system_config_destroy(config);</code></span><span style='font-size:
10.0pt'><o:p></o:p></span></p>

<p><strong>When setting up an ET system for both broadcasting and multicasting,
try the following:</strong></p>

<p><code><span style='font-size:10.0pt'>et_sys_id id;</span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>et_sysconfig config;</code><br>
<br>
<code>et_system_config_init(&amp;config);</code><br>
<code><span style='color:red'>/* already listening for broadcasts */</span></code><span
style='color:red'><br>
<code>/* listen for multicasts to these 2 addresses */</code></span><br>
<code>et_system_config_addmulticast(config, ET_MULTICAST_ADDR);</code><br>
<code>et_system_config_addmulticast(config, &quot;239.111.222.0&quot;);</code><br>
<code>et_system_start(&amp;id, config);</code><br>
<code>et_system_config_destroy(config);</code></span><span style='font-size:
10.0pt'><o:p></o:p></span></p>

<p><strong>When setting up an ET system with specified ports, try the
following:</strong></p>

<p><code><span style='font-size:10.0pt'>et_sys_id id;</span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>et_sysconfig config;</code><br>
<br>
<br>
<code>et_system_config_init(&amp;config);</code><br>
<code><span style='color:red'>/* remote users broad/multicast to this port */</span></code><br>
<code>et_system_config_setport(config, ET_BROADCAST_PORT);</code><br>
<code><span style='color:red'>/* set port of tcp server thread */</span></code><br>
<code>et_system_config_setserverport(config, 11222);</code><br>
<code>et_system_start(&amp;id, config);</code><br>
<code>et_system_config_destroy(config);</code></span><span style='font-size:
10.0pt'><o:p></o:p></span></p>

<p><strong>When setting up a consumer to open an ET system on an unknown host
which may be anywhere (local or remote), and it's trying to find that system
using broadcasting, then include the following code:</strong></p>

<p><code><span style='font-size:10.0pt'>et_sys_id id;</span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>et_openconfig config;</code><br>
<br>
<code>et_open_config_init(&amp;config);</code><br>
<code><span style='color:red'>/* broadcast</span></code><span style='color:
red'>ing by default<code> */</code><br>
<code>/* ET is on an unknown host */</code></span><br>
<code>et_open_config_sethost(config, ET_HOST_ANYWHERE);</code><br>
<code>et_open(&amp;id, &quot;et_name&quot;, config);</code><br>
<code>et_open_config_destroy(config);&nbsp;</code></span><span
style='font-size:10.0pt'><o:p></o:p></span></p>

<p><strong>When setting up a consumer that knows the ET system is on a
different host, and is trying to find it using multicasting on port
ET_MULTICAST_PORT at address ET_MULTICAST_ADDR, then include the following
code:</strong>&nbsp;</p>

<p><code><span style='font-size:10.0pt'>et_sys_id id;</span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>et_openconfig config;</code><br>
<br>
<code>et_open_config_init(&amp;config);</code><br>
<code><span style='color:red'>/* ET is remote */</span></code><br>
<code>et_open_config_sethost(config, ET_HOST_REMOTE);</code><br>
<code><span style='color:red'>/* use multicast to find ET system */</span></code><br>
<code>et_open_config_setcast(config, ET_MULTICAST);</code><br>
<code><span style='color:red'>/* remote users multicast to this port */</span></code><br>
<code>et_open_config_setmultiport(config, ET_MULTICAST_PORT);</code><br>
<code><span style='color:red'>/* remote users multicast to this address */</span></code><br>
<code>et_open_config_addmulticast(config, ET_MULTICAST_ADDR);</code><br>
<code>et_open(&amp;id, &quot;et_name&quot;, config);</code><br>
<code>et_open_config_destroy(config);</code></span><span style='font-size:10.0pt'><o:p></o:p></span></p>

<p><strong>When setting up a consumer that knows the name of the host running
the ET system (ethost.mylab.org) but nothing else, and is trying to find that
system using both broadcasting and multicasting at address 239.235.89.12, then
include the following code:</strong>&nbsp;</p>

<p><code><span style='font-size:10.0pt'>et_sys_id id;</span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>et_openconfig config;</code><br>
<br>
<code>et_open_config_init(&amp;config);</code><br>
<code><span style='color:red'>/* ET is running on ethost.mylab.org */</span></code><br>
<code>et_open_config_sethost(config, &quot;ethost.mylab.org&quot;);</code><br>
<code><span style='color:red'>/* use broad and multicasting to find ET system
*/</span></code><br>
<code>et_open_config_setcast(config, ET_BROADANDMULTICAST);</code><br>
<code><span style='color:red'>/* remote users multicast to this address */</span></code><br>
<code>et_open_config_addmulticast(config, &quot;239.235.89.12&quot;);<br>
et_open(&amp;id, &quot;et_name&quot;, config);</code><br>
<code>et_open_config_destroy(config);</code></span><span style='font-size:10.0pt'><o:p></o:p></span></p>

<p><strong>When setting up a consumer to open an ET system on a known host
(129.182.54.67), and trying to directly connect to it on server port 12345
(bypassing all UDP communications), then include the following code:</strong></p>

<p><code><span style='font-size:10.0pt'>et_sys_id id;</span></code><span
style='font-size:10.0pt;font-family:"Courier New"'><br>
<code>et_openconfig config;</code><br>
<br>
<code>et_open_config_init(&amp;config);</code><br>
<code><span style='color:red'>/* ET is on 129.182.54.67 */</span></code><br>
<code>et_open_config_sethost(config, &quot;129.182.54.67&quot;);</code><br>
<code><span style='color:red'>/* use a direct connection to the ET system */</span></code><br>
<code>et_open_config_setcast(config, ET_DIRECT);</code><br>
<code><span style='color:red'>/* ET system's server is on this port */</span></code><br>
<code>et_open_config_setserverport(config, 12345);</code><br>
<code>et_open(&amp;id, &quot;et_name&quot;, config);</code><br>
<code>et_open_config_destroy(config);&nbsp;</code></span><span
style='font-size:10.0pt'><o:p></o:p></span></p>

<h3><a name=InterfaceSelection><span style='mso-fareast-font-family:"Times New Roman"'>Network
Interface Selection</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h3>

<p>There are occasions when the ET consumer wants to select which network
interfaces it wants to use when communicating with the ET system. Often hosts
have multiple interfaces &#8211; perhaps on different subnets and with
different speeds. It is not unusual that a slower interface is used for control
information while a faster one is used for data transfer. The two parts to this
problem that must be considered are the ET system interfaces and those on the
consumer.</p>

<h4><a name=SystemInterfaces><span style='mso-fareast-font-family:"Times New Roman"'>ET
System&#8217;s Network Interfaces</span></a><span style='mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></h4>

<p>Linux and MacOS, and to a lesser extent Solaris, have what is called a
&#8220;Weak End&#8221; model of network communication. This means all of a
host&#8217;s IP addresses are considered to belong to the host in general and
not to a particular network interface. This can create a problem with ARP
tables &#8211; tables which associate a specific IP address with a specific MAC
hardware address. When an ARP request gets sent out, by default on Linux, a
particular interface may respond with all the IP addresses on its host and the
ARP table may end up with the interface&#8217;s MAC address associated with an
incorrect IP address. Thus a TCP packet may arrive at the correct host but on
an incorrect network interface &#8211; one associated with a different IP
address. What happens at this point is that Linux merely forwards the packet to
the socket even though, strictly speaking, it came in the &#8220;wrong&#8221;
interface.</p>

<p>How could this affect an ET system and its consumers? Say an ET system
exists on a host with 2 interfaces, one fast and the other slow. It is possible
that a consumer would select the host it wants to connect to by specifying the
IP address of the fast interface (using et_open_config_sethost). Because of the
ARP table&#8217;s incorrect mapping, the ET consumer&#8217;s TCP packets would
end up being delivered to the slow interface on that host. They would still
reach their intended destination but over the slow network connection.</p>

<p>The correction for this problem is fairly simple. It&#8217;s possible to
correct the ARP table (even across reboots) by making the following changes in
Linux to the /etc/sysctl.conf<span style='mso-spacerun:yes'>&nbsp; </span>file.
Simply add the following 2 lines and reboot:</p>

<p style='margin-bottom:0in;margin-bottom:.0001pt'><code><span
style='font-size:10.0pt'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>#
Allow ARP reply only if the target IP address is local address configured on
the incoming interface<o:p></o:p></span></code></p>

<p style='margin-top:0in'><code><span style='font-size:10.0pt'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>net.ipv4.conf.default.arp_ignore
= 1<o:p></o:p></span></code></p>

<p>To make the change without rebooting, in a console, type similar lines for
each network interface:</p>

<p style='margin-bottom:0in;margin-bottom:.0001pt'><code><span
style='font-size:10.0pt'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>%
sysctl net.ipv4.conf.eth0.arg_ignore=1<o:p></o:p></span></code></p>

<p style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:1.2in;
margin-bottom:.0001pt'><code><span style='font-size:10.0pt'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>% ifconfig eth0 down <o:p></o:p></span></code></p>

<p style='margin-top:0in'><code><span style='font-size:10.0pt'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>% ifconfig eth0 up<o:p></o:p></span></code></p>

<p>Once the ARP table is correct, TCP packets will be delivered to the correct
interface.</p>

<h4><a name=ConsumerInterfaces><span style='mso-fareast-font-family:"Times New Roman"'>ET
Consumer&#8217;s Network Interfaces</span></a><span style='mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></h4>

<p>Specifying which network interface gets used by a consumer&#8217;s host to
communicate with the ET system is simple. Before opening the ET system, call <a
href="user_routines.htm#et_open_config_setinterface"><i style='mso-bidi-font-style:
normal'>et_open_config_setinterface</i></a> and supply it with a dotted-decimal
format IP address associated with the interface of interest. If no interface is
specified, the operating system makes the choice.<code><span style='mso-ansi-font-size:
12.0pt;mso-bidi-font-size:12.0pt;font-family:"Times New Roman","serif"'><o:p></o:p></span></code></p>

<h3><a name=Details><span style='mso-fareast-font-family:"Times New Roman"'>Remote
Programming Details</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h3>

<h4><a name=Errors><span style='mso-fareast-font-family:"Times New Roman"'>Errors</span></a><span
style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>As mentioned previously, <strong>ET_ERROR_NOREMOTE</strong> is the error
returned when calling a routine which is not supported for remote use.
Currently, however, there are no routines which return this error. Some remote
user errors are given by <strong>ET_ERROR_REMOTE</strong> - those errors which
are unique to a remote user and do not occur locally. In practice, this error
is returned when memory cannot be allocated by the remote end. If there are
errors in reading or writing over the network, the errors generated will be <strong>ET_ERROR_READ</strong>
or <strong>ET_ERROR_WRITE</strong>.</p>

<h4><a name=Behavior><span style='mso-fareast-font-family:"Times New Roman"'>Remote
Behavior on a Local Host</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>It is possible to tell consumers to run the code that a remote consumer runs
even if it is running on the same computer as the ET system. In this case, all
communication with the ET system is done through sockets with no usage of the
shared memory. This is done by calling <em><a
href="user_routines.htm#et_open_config_setmode">et_open_config_setmode</a></em>
with the <strong>ET_HOST_AS_REMOTE</strong> option. The default mode is <strong>ET_HOST_AS_LOCAL</strong>.</p>

<h4><a name=Modifying><span style='mso-fareast-font-family:"Times New Roman"'>Modifying
Events</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>After opening an ET system, creating a station, and attaching to it, users
are ready to start reading events. There are a few details to keep in mind when
doing so remotely.</p>

<p>Remote users can gain quite a bit of efficiency by minimizing communication
with the ET system. The minimizing of communication is done transparently and
is the default mode of operation. That is, when a remote user calls <em>et_event(s)_get</em>,
the ET system copies the events and sends them over the network to the user but
also immediately puts them back into the ET system with a call to <em>et_event(s)_put</em>.
There may be times, however, when a user first wishes to modify the events and
then send them back over the network to the ET system. To aid in this effort an
extra flag is introduced, <strong>ET_MODIFY</strong>. By ORing this flag to
ET_SLEEP, ET_TIMED, or ET_ASYNC, the user announces an intention to modify the
requested event. Thus, when the ET server initially gets the event for the
remote user, it does NOT put it back into the ET system immediately afterwards.
It waits until the user has called <em>et_event(s)_put</em> before doing that.
Without this flag, the server puts the events back into the ET system
immediately.</p>

<p>There may be occasions when the remote user doesn't want to modify the data
but only the header information such as the priority, control words, and such.
In that case it makes no sense to send all the data back to the ET system when
putting the event back. By using the flag <strong>ET_MODIFY_HEADER</strong>
instead of ET_MODIFY, only the header information will be sent back - speeding
up communication greatly.</p>

<h4><a name=Multi-Threading><span style='mso-fareast-font-family:"Times New Roman"'>Multi-Threading</span></a><span
style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h4>

<p>If a remote consumer is a multi-threaded program, no special precautions are
necessary as the ET library is thread-safe. However, if more than one thread
uses the same ET system id (<em>et_open</em> called only once), there will be a
bottle neck as only one remote ET library function call at a time can be made.
To avoid this problem, each thread that wants access to the ET system needs to
do its own <i>et_open</i> and thus communicate on its own socket to its own
server thread. This should speed things up.</p>

<h3><a name=Swapping><span style='mso-fareast-font-family:"Times New Roman"'>Swapping
Data</span></a><span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></h3>

<p>Transferring data between machines where one is big endian (the most
significant byte is placed in the lowest memory address) and the other is
little endian (the least significant byte is placed in the lowest memory
address), requires the data to be &quot;swapped&quot;. Since in general a user
may not be knowledgeable about the machine on which a particular event was
originally produced, a simple call to the function <em><a
href="user_routines.htm#et_event_needtoswap">et_event_needtoswap</a>(et_event
*pe, int *swap)</em> will reveal whether the data needs to be swapped or not.
If the return value placed in <em>swap</em> is <strong>ET_NOSWAP</strong>, no
swapping is necessary; however, if the return value is <strong>ET_SWAP</strong>,
then the opposite is true.</p>

<p>The ET system automatically keeps track of the endianness of an event's
data. However, the user may want to forcibly set the data's endianness for some
reason. In that case, a call to <em><a
href="user_routines.htm#et_event_setendian">et_event_setendian</a>(et_event
*pe, int endian)</em> can be made. The endianness can be set to <strong>ET_ENDIAN_BIG</strong>,
<strong>ET_ENDIAN_LITTLE</strong>, <strong>ET_ENDIAN_LOCAL</strong> (same
endian as local host), <strong>ET_ENDIAN_NOTLOCAL</strong> (opposite endian as
local host), or <strong>ET_ENDIAN_SWITCH</strong> (switch the endian from
whatever it is). This routine does NOT swap the data but simply keeps track of
the data's endianness in the event's header. A user may also read the
endianness of an event's data by a call to <em><a
href="user_routines.htm#et_event_getendian">et_event_getendian</a>(et_event
*pe, int *endian)</em>. It returns either ET_ENDIAN_BIG or ET_ENDIAN_LITTLE.</p>

<p>The routine <em><a href="user_routines.htm#et_event_CODAswap">et_event_CODAswap</a>(et_event
*pe)</em> was provided for those who need to swap data in CODA format. However,
it cannot swap all types of CODA anymore; thus, it has been deprecated. To do a
complete swap use the routine provided in the evio library, <i
style='mso-bidi-font-style:normal'>evioswap()</i>.</p>

<p><strong>Users of data formats other than CODA format must provide their own
swapping routines.</strong></p>

<p>Another routine of interest is <em><a
href="user_routines.htm#et_system_getlocality">et_system_getlocality</a>(et_sys_id
id, int *locality)</em>. This returns the value <strong>ET_REMOTE</strong> in
the variable <em>locality</em> if the ET system is remote, <strong>ET_LOCAL</strong>
if it is local, and <strong>ET_LOCAL_NOSHARE</strong> is it is local but is
using an operating system which does not allow sharing of pthread mutexes
across processes (e.g. Linux).</p>

<h3><a name=Transferring><span style='mso-fareast-font-family:"Times New Roman"'>Transferring
Events Between Two ET Systems</span></a><span style='mso-fareast-font-family:
"Times New Roman"'><o:p></o:p></span></h3>

<p>While it is certainly possible for a user to copy events from one ET system
and place them in another with &quot;normal&quot; ET function calls, the ET
system provides a more efficient way to do this. By using ET's bridging
software, unnecessary coping of the data may be eliminated from the procedure.
Regardless of whether the ET systems are on the same or different computers or
if the process running the bridging routine is on one or the other or on yet a
third machine, the transfer should take place smoothly. It will save time
except perhaps when both ET systems and the bridging process are on the same
machine in which case only a single copy of the data is made - no different
than when using the &quot;normal&quot; ET function calls. A call to the
following function will take care of all the details:</p>

<p><em><a href="user_routines.htm#et_events_bridge">et_events_bridge</a>(et_sys_id
id_from, et_sys_id id_to, et_att_id att_from, et_att_id att_to, int num, int
*ntransferred, et_bridgeconfig bconfig)</em>.</p>

<p>The arguments are respectively: the ID of the ET system from which the
events are copied, the ID of the ET system to which the events are going, the
attachment to a station on the &quot;from&quot; ET system, the attachment to a
station on the &quot;to&quot; ET system (usually an attachment to GRAND_CENTRAL),
the total number of events desired to be transferred, the total number of
events that were actually transferred at the routine's return, and a
configuration argument that will be described shortly. The configuration
argument may be NULL in which case defaults are used.</p>

<p>The configuration for bridging events is very similar to the configuration
for opening a system or creating a system. There are a number of functions used
to create and define the <i>config</i> argument. It is initialized by a call to
<em><a href="user_routines.htm#et_bridge_config_init">et_bridge_config_init</a>
(et_bridgeconfig *config)</em>. When the user is finished using the
configuration, <i><a href="user_routines.htm#et_bridge_config_destroy">et_bridge_config_destroy</a>
(et_bridgeconfig config)</i> must be called in order to properly release all
memory used.</p>

<p>After initialization, calls can be made to functions which set various
properties of the specific configuration. Calls to these setting functions will
fail unless the configuration is first initialized. The functions used to SET
these properties are listed below along with an explanation for each:</p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman"'><a
href="user_routines.htm#et_bridge_config_setmodefrom">et_bridge_config_setmodefrom</a>(et_bridgeconfig
config, int val)</span></em><span style='mso-fareast-font-family:"Times New Roman"'>
: setting <em>val</em> to ET_SLEEP, ET_TIMED, or ET_ASYNC determines the mode
of getting events from the &quot;from&quot; ET system. The default is ET_SLEEP.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman"'><a
href="user_routines.htm#et_bridge_config_setmodeto">et_bridge_config_setmodeto</a>(et_bridgeconfig
config, int val)</span></em><span style='mso-fareast-font-family:"Times New Roman"'>
:&nbsp; setting <em>val</em> to ET_SLEEP, ET_TIMED, or ET_ASYNC determines the
mode of getting new events from the &quot;to&quot; ET system. The default is
ET_SLEEP.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman"'><a
href="user_routines.htm#et_bridge_config_setchunkfrom">et_bridge_config_setchunkfrom</a>(et_bridgeconfig
config, int val)</span></em><span style='mso-fareast-font-family:"Times New Roman"'>
: setting <em>val</em> sets the maximum number of events to get from the
&quot;from&quot; ET system in a single call to et_events_get - the chunk size
if you will. The default is 100.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman"'><a
href="user_routines.htm#et_bridge_config_setchunkto">et_bridge_config_setchunkto</a>(et_bridgeconfig
config, int val)</span></em><span style='mso-fareast-font-family:"Times New Roman"'>
: setting <em>val</em> sets the maximum number of new events to get from the
&quot;to&quot; ET system in a single call to et_events_new - the chunk size if
you will. The default is 100.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman"'><a
href="user_routines.htm#et_bridge_config_settimeoutfrom">et_bridge_config_settimeoutfrom</a>(et_bridgeconfig
config, struct timespec val)</span></em><span style='mso-fareast-font-family:
"Times New Roman"'> : setting <em>val</em> sets the time to wait for the
&quot;from&quot; ET system when the mode is set to ET_TIMED. The default is 0
sec.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman"'><a
href="user_routines.htm#et_bridge_config_settimeoutto">et_bridge_config_settimeoutto</a>(et_bridgeconfig
config, struct timespec val)</span></em><span style='mso-fareast-font-family:
"Times New Roman"'> : setting <em>val</em> sets the time to wait for the
&quot;to&quot; ET system when the mode is set to ET_TIMED. The default is 0
sec.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman"'><a
href="user_routines.htm#et_bridge_config_setfunc">et_bridge_config_setfunc</a>(et_bridgeconfig
config, ET_SWAP_FUNCPTR func)</span></em><span style='mso-fareast-font-family:
"Times New Roman"'> : setting <em>func</em> to a function pointer (function
name) means that the function will be called to swap data whenever it's
determined to be necessary. Using this feature is a convenient way of swapping
data while it's being moved from one ET system to another with no intervention
from the user needed. The function must be of the form: <strong>int
func(et_event *src, et_event *dest, int bytes, int same_endian)</strong> . It
returns ET_OK if successful otherwise ET_ERROR. The arguments consists of: <em>src</em>
which is a pointer to the event whose data is to be swapped, <em>dest</em>
which is a pointer to the event where the swapped data goes, <em>bytes</em>
which tells the length of the data in bytes, and <em>same_endian</em> which is
a flag equaling one if the machine and the data are of the same endian and zero
otherwise. This function must be able to work with <em>src</em> and <em>dest </em>being
the same event. With this as a prototype, the user can write a routine which
swaps data in the appropriate manner. Notice that the first two arguments are
pointers to events and not data buffers. This allows the writer of such a
routine to have access to any of the event's header information. In general,
such functions should NOT call <em>et_event_setendian</em> in order to change
the registered endian value of the data. This is already taken care of&nbsp; in
<em>et_events_bridge</em>. The default is NULL which means no swapping is done.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:1.5in;text-indent:-.25in;mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span
style='mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><em><span
style='mso-fareast-font-family:"Times New Roman";color:red'>DEPRECATED</span></em><em><span
style='mso-fareast-font-family:"Times New Roman"'> <a
href="user_routines.htm#et_bridge_CODAswap">et_bridge_CODAswap</a>(et_event
*src, et_event *dest, int bytes, int same_endian)</span></em><span
style='mso-fareast-font-family:"Times New Roman"'> : this was a function that
could be used in <em>et_bridge_config_setfunc</em> if the user wanted to swap
CODA format data. Currently, however, it only returns an error as swapping of
evio data must now be handled using the evio library.<o:p></o:p></span></p>

<p>There are corresponding <em>et_bridge_config_get...</em> functions to get
the configuration values of everything except the swapping function.</p>

<p><a href="modifying_system.htm"><span style='mso-no-proof:yes;text-decoration:
none;text-underline:none'><img border=0 width=31 height=31 id="_x0000_i1026"
src=left.gif alt=Previous></span></a><a href="useful_macros.htm"><span
style='mso-no-proof:yes;text-decoration:none;text-underline:none'><img
border=0 width=31 height=31 id="_x0000_i1025" src=right.gif alt=Next></span></a></p>

</div>

</body>

</html>
